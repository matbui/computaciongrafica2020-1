<!DOCTYPE html>
<html>
  <head>
    <title>Teatro Mateo</title>
    <style>
      html, body { margin: 0; padding: 0; overflow: hidden; }
        #info {
		        background:#777;
                position: absolute;
                padding: 10px;
                width: 100%;
                text-align: center;
                color: #000000;
            }
    </style>
  </head>
  <body>
      <div id="info">
            
            Mateo Buitrago <br/>
        </div>
    <script src="js/three.js"></script>
	<script src="js/controls/OrbitControls.js"></script>
	<script src="js/csg.js"></script>
	<script src="js/THREE.CSG.js"></script>
    <style>
        body {
            margin: 0;
            overflow: hidden;
        }
    </style>
</head>
<script>

    var scene, aspect, camera, renderer, controls;
		init();
		animate();


    function init() {

      //INICIALIZACIÓN
	        scene = new THREE.Scene();
			scene.background = new THREE.Color( 0x252850 );
	        aspect = window.innerWidth / window.innerHeight;
	        camera = new THREE.PerspectiveCamera( 75, aspect, 0.1, 1000);
	        renderer = new THREE.WebGLRenderer();
	        renderer.setSize( window.innerWidth, window.innerHeight );
	        document.body.appendChild( renderer.domElement );
			controls = new THREE.OrbitControls( camera, renderer.domElement );
			
			//ELEMENTOS COMUNES
			var size = 10;
			var arrowSize = 1;
			var divisions = size;
			var origin = new THREE.Vector3( 0, 0, 0 );
			var x = new THREE.Vector3( 1, 0, 0 );
			var y = new THREE.Vector3( 0, 1, 0 );
		  	var z = new THREE.Vector3( 0, 0, 1 );
		  	var color = new THREE.Color( 0x333333 );
		  	var colorR = new THREE.Color( 0xAA3333 );
		  	var colorG = new THREE.Color( 0x33AA33 );
		  	var colorB = new THREE.Color( 0x333366 );
			
			// Ligths
			
			
			var pointLight2 = new THREE.PointLight( 0xe5be01, 1, 100 );
			pointLight2.position.set( 18,5,2 );
			scene.add( pointLight2 );
			
			var pointLight = new THREE.PointLight( 0xff8000, 0.5, 100 );
			pointLight.position.set( 18,5,2 );
			scene.add( pointLight );
			
			
			
			spotLight = new THREE.SpotLight(0xF2F57B, 17, 15, Math.PI/3, 1, 1);
			spotLight.position.set(-14, 8 , 8); 
			spotLight.target.position.set(-13, -1 , 2); 
			spotLight.castShadow = true;
			scene.add(spotLight);
			
			spotLight1 = new THREE.SpotLight(0xF2F57B, 17, 15, Math.PI/3, 1, 1);
			spotLight1.position.set(-14, 8 , -6); 
			spotLight1.target.position.set(-13, -1 , 2); 
			spotLight1.castShadow = true;
			scene.add(spotLight1);
			
			
		
		   

			render();
		
			
          
    
			//CREAR LAS GEOMETRÍAS
			var boxGeometry = new THREE.BoxGeometry( 2, 2, 2 );
            var boxGeometry1 = new THREE.BoxGeometry( .1, 2, 2 );
			var boxGeometry2 = new THREE.BoxGeometry( 2, 1.5, .1 );
			var boxGeometry3 = new THREE.BoxGeometry( 2.2, 1.75, 1.5 );
			var techo = new THREE.BoxGeometry(11,1,7);
			var corte = new THREE.BoxGeometry(11,1,11);
			var piso = new THREE.BoxGeometry( 70, 0.1, 70 );
			var pared = new THREE.BoxGeometry( 26, 18, 0.1 );
			var paredb = new THREE.BoxGeometry( .1, 14, 14 );	
			var columna = new THREE.CylinderGeometry(1.2, 1.2, 18, 32 );
			var columnab = new THREE.CylinderGeometry(.6, .6, 14, 32 );
			
			
			//CREAR LOS MATERIALES
			var material2 = new THREE.MeshLambertMaterial( { color: 0x5e2129 } );
			var material6 = new THREE.MeshLambertMaterial( {color: 0x4b3621} );
			var material8 = new THREE.MeshPhongMaterial( {color: 0xe5be01} );
			
			
			//CREAR OBJETOS
			var espaldar1 = new THREE.Mesh( boxGeometry1, material6 );
			var brazo1_1  = new THREE.Mesh( boxGeometry2, material6 );
			var baseSilla1 = new THREE.Mesh( boxGeometry, material6 );
			var brazo1_2  = new THREE.Mesh( boxGeometry2, material6 );
			var corteSilla1_1 = new THREE.Mesh( boxGeometry3, material6 );
			var corteSilla1_2 = new THREE.Mesh( boxGeometry3, material6 );
			var columna1 =  new THREE.Mesh( columna, material8);
			var columna2 =  new THREE.Mesh( columna, material8);
			var columna3 =  new THREE.Mesh( columnab, material8);
			var columna4 =  new THREE.Mesh( columnab, material8);
			var columna5 =  new THREE.Mesh( columnab, material8);
			var columna6 =  new THREE.Mesh( columnab, material8);
			var columna7 =  new THREE.Mesh( columnab, material8);
			var columna8 =  new THREE.Mesh( columnab, material8);
			var piso1 =  new THREE.Mesh( piso, material6);
			var piso2 =  new THREE.Mesh( piso, material6);
			var tarima =  new THREE.Mesh( corte, material6);
			var corte1 =  new THREE.Mesh( corte, material6);
			var corte2 =  new THREE.Mesh( corte, material6);
			var paredC =  new THREE.Mesh( paredb, material6);
			var telon =  new THREE.Mesh( paredb, material2);
			var paredD =  new THREE.Mesh( pared, material6);
			var paredI =  new THREE.Mesh( pared, material6);
			
			//DESPLAZAMIENTOS
			piso1.translateY(-1);
			piso2.translateY(16);
			
			espaldar1.translateY(2);
			espaldar1.translateX(1);
			espaldar1.translateZ(0);
			
			brazo1_1.translateY(1.5);
			brazo1_1.translateX(0);
			brazo1_1.translateZ(.95);
			
			brazo1_2.translateY(1.5);
			brazo1_2.translateX(0);
			brazo1_2.translateZ(-.95);
			
			corteSilla1_1.rotateY(1.60);
			corteSilla1_1.translateY(-.125)
			
			corteSilla1_2.translateY(-.125)
			
			
			columna1.translateY(8); //8,-15    17,-5  -15,-5  9x, 11.5z   -1.5x, -18.5
			columna1.translateZ(8);
			columna1.translateX(-15);
			
			columna2.translateY(8);
			columna2.translateZ(-6);
			columna2.translateX(-15);
			
			columna3.translateY(8);
			columna3.translateZ(24);
			columna3.translateX(2);
			
			columna4.translateY(8);
			columna4.translateZ(-22);
			columna4.translateX(2);
			
			columna5.translateY(7);
			columna5.translateZ(10);
			columna5.translateX(-13);
			
			columna6.translateY(7);
			columna6.translateZ(-8);
			columna6.translateX(-13);
			
			columna7.translateY(7.5);
			columna7.translateZ(17); 
			columna7.translateX(-5);
			
			columna8.translateY(7.5); //-5,7.5,-15
			columna8.translateZ(-15);
			columna8.translateX(-5);
			
			corte1.translateX(6);
			corte1.translateZ(9);
			corte1.rotateY(0.5);
			
			corte2.translateX(6);
			corte2.translateZ(-9);
			corte2.rotateY(-0.5);
			
			paredC.translateX(-15);
			paredC.translateY(9);
			
			telon.translateX(-14.7);
			telon.translateY(7);
			
			
			paredD.translateX(-5);
			paredD.translateZ(17);
			paredD.translateY(6);
			paredD.rotateY(-0.75);
			
			paredI.translateX(-5);
			paredI.translateZ(-15);
			paredI.translateY(6);
			paredI.rotateY(0.75);
			
			
			
			
			
			
			
			
			
			var tarima1CSG =  new THREE.CSG.fromMesh( tarima);
			var corte1CSG =  new THREE.CSG.fromMesh( corte1);
			var corte2CSG =  new THREE.CSG.fromMesh( corte2);
			
			var tarima1 = tarima1CSG.subtract(corte1CSG).subtract(corte2CSG);
			
			tarima = THREE.CSG.toMesh(tarima1);
			tarima.material=material6;
			
		
			
			
			
			
			
			var espaldar1CSG =  new THREE.CSG.fromMesh( espaldar1);
			var brazo1_1CSG =  new THREE.CSG.fromMesh( brazo1_1);
			var brazo1_2CSG =  new THREE.CSG.fromMesh( brazo1_2);
			var baseSilla1CSG =  new THREE.CSG.fromMesh( baseSilla1);
			var corteSilla1_1CSG =  new THREE.CSG.fromMesh( corteSilla1_1);
			var corteSilla1_2CSG =  new THREE.CSG.fromMesh( corteSilla1_2);
			
			
			var silla = baseSilla1CSG.union(brazo1_1CSG).union(brazo1_2CSG).union(espaldar1CSG).subtract(corteSilla1_1CSG).subtract(corteSilla1_2CSG);
			baseSilla1 = THREE.CSG.toMesh(silla);
			baseSilla1.material=material6;
			
			var silla1, silla2, silla3, silla4, silla5, silla6, silla7, silla8, silla9, silla10, silla11, silla12, silla13, silla14, silla15, silla16, silla17, silla18, silla19, silla20, silla21, 
            silla22, silla23, silla24, silla25, silla26, silla27, silla28;
			
			silla1 = THREE.CSG.toMesh(silla);
			silla1.material=material2;
			
			silla2 = THREE.CSG.toMesh(silla);
			silla2.material=material2;
			
			silla3 = THREE.CSG.toMesh(silla);
			silla3.material=material2;
			
			silla4 = THREE.CSG.toMesh(silla);
			silla4.material=material2;
			
			silla5 = THREE.CSG.toMesh(silla);
			silla5.material=material2;
			
			silla6 = THREE.CSG.toMesh(silla);
			silla6.material=material2;
			
			silla7 = THREE.CSG.toMesh(silla);
			silla7.material=material2;
			
			silla8 = THREE.CSG.toMesh(silla);
			silla8.material=material2;
			
			silla9 = THREE.CSG.toMesh(silla);
			silla9.material=material2;
			
			silla10 = THREE.CSG.toMesh(silla);
			silla10.material=material2;
			
			silla11 = THREE.CSG.toMesh(silla);
			silla11.material=material2;
			
			silla12 = THREE.CSG.toMesh(silla);
			silla12.material=material2;
			
			silla13 = THREE.CSG.toMesh(silla);
			silla13.material=material2;
			
			silla14 = THREE.CSG.toMesh(silla);
			silla14.material=material2;
			
			silla15 = THREE.CSG.toMesh(silla);
			silla15.material=material2;
			
			silla16 = THREE.CSG.toMesh(silla);
			silla16.material=material2;
			
			silla17 = THREE.CSG.toMesh(silla);
			silla17.material=material2;
			
			silla18 = THREE.CSG.toMesh(silla);
			silla18.material=material2;
			
			silla19 = THREE.CSG.toMesh(silla);
			silla19.material=material2;
			
			silla20 = THREE.CSG.toMesh(silla);
			silla20.material=material2;
			
			silla21 = THREE.CSG.toMesh(silla);
			silla21.material=material2;
			
			silla22 = THREE.CSG.toMesh(silla);
			silla22.material=material2;
			
			silla23 = THREE.CSG.toMesh(silla);
			silla23.material=material2;
			
			silla24 = THREE.CSG.toMesh(silla);
			silla24.material=material2;
			
			
			
			
			silla1.translateX(0);
			silla1.translateZ(1);
			
			silla2.translateX(0);
			silla2.translateZ(4);
			
			silla3.translateX(0);
			silla3.translateZ(-2);
			
			silla4.translateX(4);
			silla4.translateZ(1);
			
			silla5.translateX(4);
			silla5.translateZ(4);
			
			silla6.translateX(4);
			silla6.translateZ(-2);
			
			silla7.translateX(8);
			silla7.translateZ(1);
			
			silla8.translateX(8);
			silla8.translateZ(4);
			
			silla9.translateX(8);
			silla9.translateZ(-2);
			
			silla10.translateX(12);
			silla10.translateZ(1);
			
			silla11.translateX(12);
			silla11.translateZ(4);
			
			silla12.translateX(12);
			silla12.translateZ(-2);
			
			
			
			
			silla13.translateX(-1);
			silla13.translateZ(-7);
			silla13.rotateY(0.7);
			
			silla14.translateX(-2.7);
			silla14.translateZ(-9);
			silla14.rotateY(0.7);
			
			silla15.translateX(-4.4);
			silla15.translateZ(-11);
			silla15.rotateY(0.7);
			
			silla16.translateX(2);
			silla16.translateZ(-9.5);
			silla16.rotateY(0.7);
			
			silla17.translateX(.3);
			silla17.translateZ(-11.5);
			silla17.rotateY(0.7);
			
			silla18.translateX(-1.5);
			silla18.translateZ(-13.5);
			silla18.rotateY(0.7);
			
			
			
			
			
			silla19.translateX(-1);
			silla19.translateZ(9);
			silla19.rotateY(-0.7);
			
			silla20.translateX(-2.7);
			silla20.translateZ(11);
			silla20.rotateY(-0.7);
			
			silla21.translateX(-4.4);
			silla21.translateZ(13);
			silla21.rotateY(-0.7);
			
			silla22.translateX(2);
			silla22.translateZ(11.5);
			silla22.rotateY(-0.7);
			
			silla23.translateX(.3);
			silla23.translateZ(13.5);
			silla23.rotateY(-0.7);
			
			silla24.translateX(-1.5);
			silla24.translateZ(15.5);
			silla24.rotateY(-0.7);
			
			tarima.translateX(-13);
			tarima.translateZ(1);
			

 			
			
			scene.add(silla1);
			scene.add(silla2);
			scene.add(silla3);
			scene.add(silla4);
			scene.add(silla5);
			scene.add(silla6);
			scene.add(silla7);
			scene.add(silla8);
			scene.add(silla9);
			scene.add(silla10);
			scene.add(silla11);
			scene.add(silla12);
			scene.add(silla13);
			scene.add(silla14);
			scene.add(silla15);
			scene.add(silla16);
			scene.add(silla17);
			scene.add(silla18);
			scene.add(silla19);
			scene.add(silla20);
			scene.add(silla21);
			scene.add(silla22);
			scene.add(silla23);
			scene.add(silla24);
			scene.add(columna2);
			scene.add(columna1);
			scene.add(columna3);
			scene.add(columna4);
			scene.add(columna5);
			scene.add(columna6);
			scene.add(columna7);
			scene.add(columna8);
			scene.add(piso1);
			scene.add(piso2);
			scene.add(tarima);
			scene.add(paredC);
			scene.add(paredD);
			scene.add(paredI);
			scene.add(telon);
			
			
			camera.position.x = 25;
			camera.position.y = 6;
		  	camera.position.z = 0;
			camera.lookAt( telon );
    }

    


   function animate(){
			requestAnimationFrame( animate );
			controls.update();
			render();
		}
		function render(){
			renderer.render( scene, camera );
		}
    </script>
  </body>
</html>